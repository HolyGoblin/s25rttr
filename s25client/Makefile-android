NAME   = s25rttr_client
O      = o
RM     = rm -f

ANDROID_CFLAGS := $(CFLAGS)
ANDROID_LDFLAGS := $(LDFLAGS)

PROG   = $(NAME)

all: $(PROG)

DEFAULT_CFLAGS = `sdl-config --cflags`

#LDFLAGS = -lSDL  -lpthread  -lz -lSDL_image -lpng12 

MORE_CFLAGS += -frtti -O3 -Iandroid -Isrc -Imygettext/src -Ilibutil/src -Iliblobby/src -Ilibendian/src

CFLAGS  = $(DEFAULT_CFLAGS) $(MORE_CFLAGS) $(ANDROID_CFLAGS)

OBJS =	\
src/AIConstruction.o \
src/AIEventManager.o \
src/AIInterface.o \
src/AIJHHelper.o \
src/AIPlayer.o \
src/AIPlayerJH.o \
src/AIResourceMap.o \
src/Addons.o \
src/AudioDriverWrapper.o \
src/BurnedWarehouse.o \
src/CatapultStone.o \
src/ClientInterface.o \
src/CollisionDetection.o \
src/Debug.o \
src/Desktop.o \
src/DriverWrapper.o \
src/EventManager.o \
src/ExtensionList.o \
src/FOWObjects.o \
src/FileChecksum.o \
src/GameClient.o \
src/GameClientCommands.o \
src/GameClientGF_Game.o \
src/GameClientGF_Replay.o \
src/GameClientPlayer.o \
src/GameCommands.o \
src/GameManager.o \
src/GameMessage.o \
src/GameMessageInterface.o \
src/GameMessages.o \
src/GameObject.o \
src/GamePlayerInfo.o \
src/GamePlayerList.o \
src/GameReplay.o \
src/GameSavedFile.o \
src/GameSavegame.o \
src/GameServer.o \
src/GameServerPlayer.o \
src/GameWorld.o \
src/GameWorldBase.o \
src/GameWorldGame.o \
src/GameWorldView.o \
src/GameWorldViewer.o \
src/GlobalGameSettings.o \
src/GlobalVars.o \
src/IngameWindow.o \
src/ListDir.o \
src/Loader.o \
src/MapGeometry.o \
src/Messenger.o \
src/Minimap.o \
src/MusicPlayer.o \
src/Pathfinding.o \
src/PostMsg.o \
src/Random.o \
src/RoadSegment.o \
src/SerializedGameData.o \
src/Settings.o \
src/SoundManager.o \
src/TerrainRenderer.o \
src/TerritoryRegion.o \
src/TradeGraph.o \
src/VideoDriverWrapper.o \
src/Ware.o \
src/Window.o \
src/WindowManager.o \
src/ctrlBuildingIcon.o \
src/ctrlButton.o \
src/ctrlChat.o \
src/ctrlCheck.o \
src/ctrlComboBox.o \
src/ctrlDeepening.o \
src/ctrlEdit.o \
src/ctrlGroup.o \
src/ctrlImage.o \
src/ctrlIngameMinimap.o \
src/ctrlList.o \
src/ctrlMinimap.o \
src/ctrlMultiSelectGroup.o \
src/ctrlMultiline.o \
src/ctrlOptionGroup.o \
src/ctrlPercent.o \
src/ctrlPreviewMinimap.o \
src/ctrlProgress.o \
src/ctrlRectangle.o \
src/ctrlScrollBar.o \
src/ctrlTab.o \
src/ctrlTable.o \
src/ctrlText.o \
src/ctrlTimer.o \
src/ctrlVarDeepening.o \
src/ctrlVarText.o \
src/customborderbuilder.o \
src/dskAboutRTTR.o \
src/dskCredits.o \
src/dskDirectIP.o \
src/dskGameInterface.o \
src/dskGameLoader.o \
src/dskHostGame.o \
src/dskIntro.o \
src/dskLobby.o \
src/dskMainMenu.o \
src/dskMultiPlayer.o \
src/dskOptions.o \
src/dskSelectMap.o \
src/dskSinglePlayer.o \
src/dskSplash.o \
src/glAllocator.o \
src/glArchivItem_Bitmap.o \
src/glArchivItem_Bitmap_Direct.o \
src/glArchivItem_Bitmap_Player.o \
src/glArchivItem_Bitmap_RLE.o \
src/glArchivItem_Bitmap_Raw.o \
src/glArchivItem_Bitmap_Shadow.o \
src/glArchivItem_Bob.o \
src/glArchivItem_Font.o \
src/glArchivItem_Map.o \
src/glArchivItem_Music.o \
src/glArchivItem_Sound.o \
src/glArchivItem_Sound_Midi.o \
src/glArchivItem_Sound_Other.o \
src/glArchivItem_Sound_Wave.o \
src/glArchivItem_Sound_XMidi.o \
src/glSmartBitmap.o \
src/iwAIDebug.o \
src/iwAction.o \
src/iwAddons.o \
src/iwBaseWarehouse.o \
src/iwBuildOrder.o \
src/iwBuilding.o \
src/iwBuildingProductivities.o \
src/iwBuildingSite.o \
src/iwBuildings.o \
src/iwChat.o \
src/iwDemolishBuilding.o \
src/iwDiplomacy.o \
src/iwDirectIPConnect.o \
src/iwDirectIPCreate.o \
src/iwDistribution.o \
src/iwEndgame.o \
src/iwHQ.o \
src/iwHarborBuilding.o \
src/iwHelp.o \
src/iwInventory.o \
src/iwLobbyConnect.o \
src/iwLobbyRanking.o \
src/iwLobbyServerInfo.o \
src/iwMainMenu.o \
src/iwMerchandiseStatistics.o \
src/iwMilitary.o \
src/iwMilitaryBuilding.o \
src/iwMinimap.o \
src/iwMissionStatement.o \
src/iwMsgbox.o \
src/iwMusicPlayer.o \
src/iwObservate.o \
src/iwOptionsWindow.o \
src/iwPlayReplay.o \
src/iwPleaseWait.o \
src/iwPostWindow.o \
src/iwRoadWindow.o \
src/iwSave.o \
src/iwSettings.o \
src/iwShip.o \
src/iwSkipGFs.o \
src/iwStatistics.o \
src/iwStorehouse.o \
src/iwSurrender.o \
src/iwTextfile.o \
src/iwTools.o \
src/iwTrade.o \
src/iwTransport.o \
src/iwWares.o \
src/languages.o \
src/main.o \
src/noAnimal.o \
src/noBase.o \
src/noBaseBuilding.o \
src/noBuilding.o \
src/noBuildingSite.o \
src/noCharburnerPile.o \
src/noCoordBase.o \
src/noDisappearingEnvObject.o \
src/noDisappearingMapEnvObject.o \
src/noEnvObject.o \
src/noExtension.o \
src/noFighting.o \
src/noFigure.o \
src/noFire.o \
src/noFlag.o \
src/noGrainfield.o \
src/noGranite.o \
src/noMovable.o \
src/noNothing.o \
src/noRoadNode.o \
src/noShip.o \
src/noShipBuildingSite.o \
src/noSign.o \
src/noSkeleton.o \
src/noStaticObject.o \
src/noTree.o \
src/nobBaseMilitary.o \
src/nobBaseWarehouse.o \
src/nobHQ.o \
src/nobHarborBuilding.o \
src/nobMilitary.o \
src/nobShipYard.o \
src/nobStorehouse.o \
src/nobUsual.o \
src/nofActiveSoldier.o \
src/nofAggressiveDefender.o \
src/nofArmorer.o \
src/nofAttacker.o \
src/nofBaker.o \
src/nofBrewer.o \
src/nofBuilder.o \
src/nofBuildingWorker.o \
src/nofButcher.o \
src/nofCarpenter.o \
src/nofCarrier.o \
src/nofCatapultMan.o \
src/nofCharburner.o \
src/nofDefender.o \
src/nofDonkeybreeder.o \
src/nofFarmer.o \
src/nofFarmhand.o \
src/nofFisher.o \
src/nofFlagWorker.o \
src/nofForester.o \
src/nofGeologist.o \
src/nofHunter.o \
src/nofIronfounder.o \
src/nofMetalworker.o \
src/nofMiller.o \
src/nofMiner.o \
src/nofMinter.o \
src/nofPassiveSoldier.o \
src/nofPassiveWorker.o \
src/nofPigbreeder.o \
src/nofPlaner.o \
src/nofScout_Free.o \
src/nofScout_LookoutTower.o \
src/nofShipWright.o \
src/nofSoldier.o \
src/nofStonemason.o \
src/nofTradeDonkey.o \
src/nofTradeLeader.o \
src/nofWarehouseWorker.o \
src/nofWellguy.o \
src/nofWoodcutter.o \
src/nofWorkman.o \
src/signale.o \
src/win32_nanosleep.o \
libendian/src/libendian.o \
libendian/src/swap.o \
libendian/src/read_char.o \
libendian/src/write_char.o \
libendian/src/read_int.o \
libendian/src/write_int.o \
libendian/src/read_short.o \
libendian/src/write_short.o \
liblobby/src/LobbyClient.o \
liblobby/src/LobbyInterface.o \
liblobby/src/LobbyMessage.o \
liblobby/src/LobbyMessageInterface.o \
liblobby/src/LobbyPlayerInfo.o \
liblobby/src/LobbyServerInfo.o \
libsiedler2/src/ArchivInfo.o \
libsiedler2/src/ArchivItem.o \
libsiedler2/src/ArchivItem_Bitmap.o \
libsiedler2/src/ArchivItem_Bitmap_Player.o \
libsiedler2/src/ArchivItem_Bitmap_RLE.o \
libsiedler2/src/ArchivItem_Bitmap_Raw.o \
libsiedler2/src/ArchivItem_Bitmap_Shadow.o \
libsiedler2/src/ArchivItem_Bob.o \
libsiedler2/src/ArchivItem_Font.o \
libsiedler2/src/ArchivItem_Ini.o \
libsiedler2/src/ArchivItem_Map.o \
libsiedler2/src/ArchivItem_Map_Header.o \
libsiedler2/src/ArchivItem_Palette.o \
libsiedler2/src/ArchivItem_Raw.o \
libsiedler2/src/ArchivItem_Sound.o \
libsiedler2/src/ArchivItem_Sound_Midi.o \
libsiedler2/src/ArchivItem_Sound_Other.o \
libsiedler2/src/ArchivItem_Sound_Wave.o \
libsiedler2/src/ArchivItem_Sound_XMidi.o \
libsiedler2/src/ArchivItem_Text.o \
libsiedler2/src/LoadACT.o \
libsiedler2/src/LoadBBM.o \
libsiedler2/src/LoadBMP.o \
libsiedler2/src/LoadBOB.o \
libsiedler2/src/LoadDATIDX.o \
libsiedler2/src/LoadINI.o \
libsiedler2/src/LoadLBM.o \
libsiedler2/src/LoadLST.o \
libsiedler2/src/LoadMAP.o \
libsiedler2/src/LoadSND.o \
libsiedler2/src/LoadTLST.o \
libsiedler2/src/LoadTXT.o \
libsiedler2/src/LoadType.o \
libsiedler2/src/MIDI_Track.o \
libsiedler2/src/WriteACT.o \
libsiedler2/src/WriteBBM.o \
libsiedler2/src/WriteBMP.o \
libsiedler2/src/WriteBOB.o \
libsiedler2/src/WriteDATIDX.o \
libsiedler2/src/WriteINI.o \
libsiedler2/src/WriteLBM.o \
libsiedler2/src/WriteLST.o \
libsiedler2/src/WriteMAP.o \
libsiedler2/src/WriteTXT.o \
libsiedler2/src/WriteType.o \
libsiedler2/src/XMIDI_Track.o \
libsiedler2/src/libsiedler2.o \
libsiedler2/src/oem.o \
libutil/src/BinaryFile.o \
libutil/src/Serializer.o \
libutil/src/Log.o \
libutil/src/Socket.o \
libutil/src/Message.o \
libutil/src/SocketSet.o \
libutil/src/MessageInterface.o \
libutil/src/UPnP.o \
libutil/src/MessageQueue.o \
libutil/src/error.o \
libutil/src/MyTime.o \
libutil/src/files.o \
mygettext/src/gettext.o \
mygettext/src/mygettext.o \
android/ifaddrs.o \
build_version.o

CPPFLAGS  = $(CFLAGS)

$(PROG): $(OBJS)
	$(CXX) $(CFLAGS) -o $(PROG) $(OBJS) $(LDFLAGS)
ifndef DEBUG
	$(STRIP) $(PROG)
endif

run: $(PROG)
	./$(PROG)

clean:
	$(RM) $(PROG) $(OBJS)
